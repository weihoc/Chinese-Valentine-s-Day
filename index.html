<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ä¸ƒå¤•ç¦®ç‰©å¿ƒç†æ¸¬é©—</title>
  <style>
    body { font-family: sans-serif; padding: 2em; background: #fff8f0; color: #333; }
    h1, h2 { color: #d26a5c; }
    .question { margin-bottom: 2em; }
    button { margin: 10px; padding: 0.5em 1em; background: #d26a5c; color: white; border: none; border-radius: 5px; cursor: pointer; }
    .hidden { display: none; }
    #restart-btn { margin-top: 3em; background: #888; }
  </style>
</head>
<body>
  <h1>ä¸ƒå¤•ç¦®ç‰©å¿ƒç†æ¸¬é©—</h1>
  <div id="quiz"></div>
  <div id="result" class="hidden"></div>

  <script>
    const questions = [
      {
        text: "1. ä½ æœ€å–œæ­¡ä»¥ä¸‹å“ªç¨®ç´„æœƒæ–¹å¼ï¼Ÿ",
        options: [
          { text: "ä¸€èµ·æµ·é‚Šçœ‹å¤•é™½", tags: ["æµªæ¼«", "è‡ªç„¶"] },
          { text: "å¤œå¸‚åƒåƒå–å–", tags: ["æ´»æ½‘", "ç†±é¬§"] },
          { text: "é«˜ç´šé¤å»³ç´„æœƒ", tags: ["è³ªæ„Ÿ", "å„€å¼æ„Ÿ"] },
          { text: "åœ¨å®¶ç…®é£¯çœ‹é›»å½±", tags: ["æº«é¦¨", "é™ªä¼´"] },
        ],
      },
      {
        text: "2. æ”¶åˆ°ä»€éº¼æœƒæœ€è®“ä½ æ„Ÿå‹•ï¼Ÿ",
        options: [
          { text: "èŠ±æŸåŠ æ‰‹å¯«å¡ç‰‡", tags: ["æµªæ¼«", "çœŸå¿ƒ"] },
          { text: "ç²¾å“å°ç‰©ï¼ˆåŒ…åŒ…ï¼‰", tags: ["è³ªæ„Ÿ", "å¯¦ç”¨", "åŒ…åŒ…"] },
          { text: "ç²¾å“å°ç‰©ï¼ˆé¦™æ°´ï¼‰", tags: ["è³ªæ„Ÿ", "å¯¦ç”¨", "é¦™æ°´"] },
          { text: "ç²¾å“å°ç‰©ï¼ˆé£¾å“ï¼‰", tags: ["è³ªæ„Ÿ", "å¯¦ç”¨", "é£¾å“"] },
          { text: "ç²¾å“å°ç‰©ï¼ˆå£ç´…ï¼‰", tags: ["è³ªæ„Ÿ", "å¯¦ç”¨", "å£ç´…"] },
          { text: "ç²¾å“å°ç‰©ï¼ˆæ‰‹éŒ¶ï¼‰", tags: ["è³ªæ„Ÿ", "å¯¦ç”¨", "æ‰‹éŒ¶"] },
          { text: "ç¥ç§˜é©šå–œè¡Œç¨‹", tags: ["å†’éšª", "å‰µæ„"] },
          { text: "è¦ªæ‰‹åšçš„æ±è¥¿", tags: ["æ‰‹ä½œ", "æº«æš–"] },
        ],
      },
      {
        text: "3. ä½ åœ¨æ„ç¦®ç‰©çš„å“ªå€‹é¢å‘ï¼Ÿ",
        options: [
          { text: "å¤–è§€ç²¾ç·»ï¼Œæ‹ç…§å¥½çœ‹", tags: ["è¦–è¦º", "ç¾æ„Ÿ"] },
          { text: "è¡¨é”å¿ƒæ„æœ€é‡è¦", tags: ["çœŸå¿ƒ", "æƒ…æ„Ÿ"] },
          { text: "å¯¦ç”¨æ€§é«˜ï¼Œå¯ä»¥æ¯å¤©ç”¨", tags: ["å¯¦ç”¨"] },
          { text: "è®“äººé©šå–œï¼Œæ„æƒ³ä¸åˆ°", tags: ["å‰µæ„", "é©šå–œ"] },
        ],
      },
    ];

    const giftIdeas = [
      { tags: ["æµªæ¼«", "çœŸå¿ƒ"], gift: "æ°¸ç”ŸèŠ±æŸï¼‹æ‰‹å¯«å¡ç‰‡", place: "å±±ä¸Šè§€æ˜Ÿæˆ–æµ·é‚Šå¤•é™½" },
      { tags: ["è³ªæ„Ÿ", "å¯¦ç”¨", "åŒ…åŒ…"], gift: "ç²¾å“åŒ…åŒ…", place: "é«˜ç´šé¤å»³ç´„æœƒ" },
      { tags: ["è³ªæ„Ÿ", "å¯¦ç”¨", "é¦™æ°´"], gift: "ç²¾å“é¦™æ°´", place: "é«˜ç´šé¤å»³æˆ–é¦™æ°›é«”é©—èª²ç¨‹" },
      { tags: ["è³ªæ„Ÿ", "å¯¦ç”¨", "é£¾å“"], gift: "è¨­è¨ˆå¸«é£¾å“", place: "è—è¡“å±•è¦½æˆ–ä¸‹åˆèŒ¶ç´„æœƒ" },
      { tags: ["è³ªæ„Ÿ", "å¯¦ç”¨", "å£ç´…"], gift: "ç²¾å“å£ç´…ç¦®ç›’", place: "ç™¾è²¨å°ˆæ«ƒé€›è¡—è¡Œç¨‹" },
      { tags: ["è³ªæ„Ÿ", "å¯¦ç”¨", "æ‰‹éŒ¶"], gift: "ç²¾å“æ‰‹éŒ¶", place: "æ°£æ°›è‰¯å¥½çš„æ™šé¤+åŸå¸‚å¤œæ™¯æ•£æ­¥" },
      { tags: ["æ´»æ½‘", "å‰µæ„"], gift: "DIY é©šå–œå°ç¦®ç‰©æˆ–å¯†å®¤è„«é€ƒç¥¨åˆ¸", place: "å¤œå¸‚æˆ–ä¸»é¡Œæ¨‚åœ’" },
      { tags: ["æº«é¦¨", "æ‰‹ä½œ"], gift: "è¦ªæ‰‹åšçš„è›‹ç³•æˆ–æ—¥å¸¸å¯¦ç”¨å°ç‰©", place: "å®¶ä¸­å¸ƒç½®çš„æµªæ¼«æ™šé¤" },
      { tags: ["è¦–è¦º", "ç¾æ„Ÿ"], gift: "é€ å‹é¦™æ°›è Ÿç‡­ã€æ‰‹å·¥é£¾å“", place: "ç¶²ç¾å’–å•¡å»³æ‹ç…§ç´„æœƒ" },
      { tags: ["é©šå–œ", "å†’éšª"], gift: "ç¥ç§˜ç´„æœƒè¡Œç¨‹ï¼‹é›»å½±ç¥¨ï¼‹å¤œæ™¯è¡Œç¨‹", place: "ç¥•å¯†è¡Œç¨‹å®‰æ’" },
    ];

    const quizContainer = document.getElementById("quiz");
    const resultContainer = document.getElementById("result");
    const userTags = [];

    let currentQ = 0;

    function showQuestion(index) {
      const q = questions[index];
      const div = document.createElement("div");
      div.className = "question";

      const h2 = document.createElement("h2");
      h2.textContent = q.text;
      div.appendChild(h2);

      q.options.forEach((opt) => {
        const btn = document.createElement("button");
        btn.textContent = opt.text;
        btn.onclick = () => {
          userTags.push(...opt.tags);
          currentQ++;
          quizContainer.innerHTML = "";
          if (currentQ < questions.length) {
            showQuestion(currentQ);
          } else {
            showResult();
          }
        };
        div.appendChild(btn);
      });

      quizContainer.appendChild(div);
    }

    function showResult() {
      const tagCount = {};
      userTags.forEach((tag) => {
        tagCount[tag] = (tagCount[tag] || 0) + 1;
      });

      const best = giftIdeas
        .map((idea) => {
          let score = 0;
          idea.tags.forEach((tag) => {
            score += tagCount[tag] || 0;
          });
          return { ...idea, score };
        })
        .sort((a, b) => b.score - a.score)[0];

      resultContainer.innerHTML = `
        <h2>ğŸ æœ€é©åˆå¥¹çš„ä¸ƒå¤•ç¦®ç‰©æ˜¯ï¼š</h2>
        <p><strong>ç¦®ç‰©å»ºè­°ï¼š</strong>${best.gift}</p>
        <p><strong>æ¨è–¦ç´„æœƒåœ°é»ï¼š</strong>${best.place}</p>
        <p style="margin-top:2em;color:#666">ï¼ˆæ ¹æ“šå¥¹çš„é¸æ“‡åˆ†æå¾—å‡ºï¼‰</p>
        <button id="restart-btn">é‡æ–°ä¾†é</button>
      `;

      document.getElementById("restart-btn").onclick = () => {
        currentQ = 0;
        userTags.length = 0;
        quizContainer.innerHTML = "";
        resultContainer.innerHTML = "";
        resultContainer.classList.add("hidden");
        showQuestion(currentQ);
      };

      resultContainer.classList.remove("hidden");
    }

    showQuestion(currentQ);
  </script>
</body>
</html>
